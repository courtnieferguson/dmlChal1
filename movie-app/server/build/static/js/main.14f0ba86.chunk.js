(this["webpackJsonpmovies-react-express-sqlite-app"]=this["webpackJsonpmovies-react-express-sqlite-app"]||[]).push([[0],{14:function(e,t,a){e.exports=a(41)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(13),m=a(2),o=a.n(m);const s=e=>r.a.createElement("tr",{className:"table-row"},r.a.createElement("td",{className:"table-item"},e.position),r.a.createElement("td",{className:"table-item"},e.movie.title),r.a.createElement("td",{className:"table-item"},e.movie.director),r.a.createElement("td",{className:"table-item"},e.movie.releaseDate),r.a.createElement("td",{className:"table-item"},e.movie.rating),r.a.createElement("td",{className:"table-item"},r.a.createElement("button",{className:"btn btn-remove",onClick:()=>e.handleMovieRemove(e.movie.id,e.movie.title)},"Remove movie")));a(38);const c=e=>e.loading?r.a.createElement("p",null,"Leaderboard table is loading..."):r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"table-head-item"}),r.a.createElement("th",{className:"table-head-item"},"Title"),r.a.createElement("th",{className:"table-head-item"},"Director"),r.a.createElement("th",{className:"table-head-item"},"Release date"),r.a.createElement("th",{className:"table-head-item"},"Rating"),r.a.createElement("th",{className:"table-head-item"}))),r.a.createElement("tbody",{className:"table-body"},e.movie.length>0?e.movie.map((t,a)=>r.a.createElement(s,{key:t.id,movie:t,position:a+1,handleMovieRemove:e.handleMovieRemove})):r.a.createElement("tr",{className:"table-row"},r.a.createElement("td",{className:"table-item",style:{textAlign:"center"},colSpan:6},"There are no movies to show. Create one!"))));a(39);const i=()=>{const[e,t]=Object(l.useState)(""),[a,n]=Object(l.useState)(""),[m,s]=Object(l.useState)(""),[i,d]=Object(l.useState)(""),[h,v]=Object(l.useState)([]),[b,u]=Object(l.useState)(!0);Object(l.useEffect)(()=>{E()},[]);const E=async()=>{o.a.get("http://localhost:4001/movies/all").then(e=>{v(e.data),u(!1)}).catch(e=>console.error("There was an error retrieving the movie list: "+e))},p=()=>{e.length>0&&a.length>0&&m.length>0&&i.length>0&&(o.a.post("http://localhost:4001/movies/create",{director:e,title:a,releaseDate:m,rating:i}).then(e=>{console.log(e.data),E()}).catch(e=>console.error(`There was an error creating the ${a} movie: ${e}`)),console.info(`Movie ${a} by ${e} added.`),t(""),n(""),s(""),d(""))};return r.a.createElement("div",{className:"movie-list-wrapper"},r.a.createElement("div",{className:"movie-list-form"},r.a.createElement("div",{className:"form-wrapper",onSubmit:p},r.a.createElement("div",{className:"form-row"},r.a.createElement("fieldset",null,r.a.createElement("label",{className:"form-label",htmlFor:"title"},"Enter title:"),r.a.createElement("input",{className:"form-input",type:"text",id:"title",name:"title",value:a,onChange:e=>n(e.currentTarget.value)})),r.a.createElement("fieldset",null,r.a.createElement("label",{className:"form-label",htmlFor:"director"},"Enter Director:"),r.a.createElement("input",{className:"form-input",type:"text",id:"director",name:"director",value:e,onChange:e=>t(e.currentTarget.value)}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("fieldset",null,r.a.createElement("label",{className:"form-label",htmlFor:"releaseDate"},"Enter release date:"),r.a.createElement("input",{className:"form-input",type:"text",id:"releaseDate",name:"releaseDate",value:m,onChange:e=>s(e.currentTarget.value)})),r.a.createElement("fieldset",null,r.a.createElement("label",{className:"form-label",htmlFor:"rating"},"Enter rating:"),r.a.createElement("input",{className:"form-input",type:"text",id:"rating",name:"rating",value:i,onChange:e=>d(e.currentTarget.value)})))),r.a.createElement("button",{onClick:p,className:"btn btn-add"},"Add the movie")),r.a.createElement(c,{movie:h,loading:b,handleMovieRemove:(e,t)=>{o.a.put("http://localhost:4001/movies/delete",{id:e}).then(()=>{console.log(`Movie ${t} removed.`),E()}).catch(e=>console.error(`There was an error removing the ${t} movie: ${e}`))}}),h.length>0&&r.a.createElement("button",{className:"btn btn-reset",onClick:()=>{o.a.put("http://localhost:4001/movies/reset").then(()=>{E()}).catch(e=>console.error("There was an error resetting the movie list: "+e))}},"Reset movie list."))};a(40);const d=document.getElementById("root");Object(n.render)(r.a.createElement(i,null),d)}},[[14,1,2]]]);
//# sourceMappingURL=main.14f0ba86.chunk.js.map